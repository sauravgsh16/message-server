
server.go
    1) server.publish -- understand message store and persistence **
    2) add msgStore to all required methods
    3) Check if two DB - server and message are required.

queue.go
    1) PERSIST LOGIC

store.go
    2) MessageCount
    3) IndexCount
    10) GetNoChecks
    15) GetAndDecrRef

consumer.go
    1) MessageResourceHolders - done
    2) ConsumeImmediate - done
    3) SendCancel - done

Check for RETURN CODES ALL OVER REPO, IMPLEMENT CONSTANTS

Where to start from :
1) Go through the flow again - add all that you find missing
   Start with connection.go 
   - For starters - need to add mechanism for handshake.
   - Once that is done, go through flow again.

channel
    AddUnackedMessage
    nackOne
    nackBelow
    ackOne
    ackBelow
